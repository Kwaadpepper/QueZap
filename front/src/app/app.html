@if (layout.asWebsite()) {
  <header class="relative flex justify-between pt-4" [class.admin-header]="onAdminPath()">
    <a pButton class="m-2 mb-4" routerLink="/" title="Aller sur l'accueil" text outlined>
      <p-image src="images/quezap.svg" class="min-w-20" width="100" alt="QueZap"></p-image>
    </a>

    <div class="hidden grow md:flex md:items-center md:justify-end">
      @if (onAdminPath()) {
        <quizz-admin-nav />
      } @else {
        <quizz-site-nav />
      }
    </div>

    <p-drawer
      position="right"
      styleClass="!w-60"
      [header]="onAdminPath() ? 'Administration' : 'Menu'"
      [(visible)]="drawerVisible"
    >
      @if (onAdminPath()) {
        <quizz-admin-nav />
      } @else {
        <quizz-site-nav />
      }
      @if (isLoggedIn()) {
        <div class="flex justify-center">
          <quizz-logout-button class="mx-2" />
        </div>
      }
    </p-drawer>

    <div class="flex">
      @if (isLoggedIn()) {
        <quizz-logout-button class="mx-2 hidden md:inline-flex" />
      }
      <p-button
        class="ms-2 me-4 mt-1 md:hidden"
        title="Afficher le menu"
        outlined
        severity="contrast"
        (onClick)="toggleDrawer()"
      >
        <span class="pi pi-bars"></span>
      </p-button>
    </div>
  </header>
}
<quizz-loading-bar class="absolute top-0 left-0 z-10 w-full" />
<main
  class="grow"
  pFocusTrap
  [pFocusTrapDisabled]="asWebsite()"
  [class]="{
    'main-as-website': asWebsite(),
    'main-in-container': inContainer(),
  }"
>
  <quizz-debugbar />
  <router-outlet />

  <p-toast
    position="bottom-left"
    [breakpoints]="{ '920px': { width: '100%', right: '0', left: '0' } }"
  />

  <quizz-scroll-top />
</main>

@if (asWebsite()) {
  <footer class="py-4 pt-5">
    <p-divider class="mx-auto w-full md:w-10/12" />
    <quizz-footer />
  </footer>
}
