<header
  class="relative flex justify-between"
  [class.website-header]="layout.asWebsite()"
  [class.admin-header]="onAdminPath()"
>
  <a pButton class="m-2 mb-4" routerLink="/" title="Aller sur l'accueil" text outlined>
    <p-image src="images/quezap.svg" class="min-w-20" width="100" alt="QueZap"></p-image>
  </a>

  <div class="grow hidden md:flex md:justify-end md:items-center">
    @if(onAdminPath()) {
    <quizz-admin-nav />
    } @else if(layout.asWebsite()) {
    <quizz-site-nav />
    }
  </div>

  <p-drawer
    position="right"
    styleClass="!w-60"
    [header]="onAdminPath() ? 'Administration' : 'Menu'"
    [(visible)]="drawerVisible"
  >
    @if(onAdminPath()) {
    <quizz-admin-nav />
    } @else if(layout.asWebsite()) {
    <quizz-site-nav />
    } @if(isLoggedIn()) {
    <div class="flex justify-center">
      <quizz-logout-button class="mx-2" />
    </div>
    }
  </p-drawer>

  <div class="flex">
    @if(isLoggedIn()) {
    <quizz-logout-button class="mx-2 hidden md:inline-flex" />
    }
    <p-button
      class="ms-2 me-4 mt-1 md:hidden"
      title="Afficher le menu"
      outlined
      severity="contrast"
      (onClick)="toggleDrawer()"
    >
      <span class="pi pi-bars"></span>
    </p-button>
  </div>
</header>
<quizz-loading-bar class="absolute top-0 left-0 z-10 w-full" />
<main
  class="grow"
  [class]="{
    'main-as-website': layout.asWebsite(),
    'main-in-container': layout.inContainer(),
  }"
>
  <quizz-debugbar [(websiteMode)]="layout.asWebsite" />
  <router-outlet></router-outlet>

  <p-toast
    position="bottom-left"
    [breakpoints]="{ '920px': { width: '100%', right: '0', left: '0' } }"
  />

  <quizz-scroll-top />
</main>

@if(layout.asWebsite()) {
<footer class="pt-5 py-4">
  <p-divider class="w-full md:w-10/12 mx-auto" />
  <quizz-footer />
</footer>
}
