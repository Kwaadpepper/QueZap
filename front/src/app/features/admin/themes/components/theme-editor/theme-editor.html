<p-dialog
  [modal]="true"
  [pt]="{ root: { class: 'md:max-w-6/8 lg:md:max-w-5/8' } }"
  (onShow)="onShow()"
  [(visible)]="visible"
>
  <ng-template #header>
    <div class="inline-flex items-center justify-center gap-2 mx-4">
      @if(forUpdateAction()) {
      <i class="pi pi-pencil text-2xl" aria-hidden="true"></i>
      <span class="font-bold whitespace-nowrap">Modifier le thème</span>
      } @else {
      <i class="pi pi-plus text-2xl" aria-hidden="true"></i>
      <span class="font-bold whitespace-nowrap">Créer un nouveau thème</span>
      }
    </div>
  </ng-template>

  @if(errorOccurred()) {
  <p-message severity="error" class="mb-4">
    <span> Une erreur est survenue. Veuillez réessayer. </span>
  </p-message>
  }
  <form
    class="flex flex-col justify-center"
    [inert]="this.themeForm().submitting()"
    (submit)="onSave(); $event.preventDefault()"
  >
    <div class="flex flex-col items-center gap-4 mb-8 mx-auto">
      <label for="name" class="font-semibold w-24 me-30">Nom du thème</label>
      <input
        pInputText
        id="text"
        class="flex-auto"
        autocomplete="off"
        type="text"
        quizzFieldError
        [field]="themeForm.name"
        [fieldState]="themeForm.name"
      />
    </div>
    <div class="flex justify-end gap-2">
      <p-button label="Fermer" severity="secondary" (onClick)="onCancel()" />
      <p-button
        label="Enregistrer"
        type="submit"
        [disabled]="this.themeForm().invalid() || this.themeForm().submitting()"
      >
        @if(this.themeForm().submitting()) {
        <i class="pi pi-cog pi-spin" pButtonIcon></i>
        }
      </p-button>
    </div>
  </form>
</p-dialog>
