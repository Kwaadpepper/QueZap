<div class="flex flex-col justify-center items-center h-full">
  <div class="relative">
    <h1 class="mb-5">Mot de passe oublié</h1>

    <quizz-back-button class="-left-5! -top-15! md:top-0! md:-left-15!" backUrl="/auth/login" />
  </div>

  <form class="flex flex-col justify-center" (submit)="onAskToReset(); $event.preventDefault()">
    @if(hasBeenAskedToReset()) {
    <div class="flex">
      <p-message severity="success" class="mb-4">
        <span>
          Si votre email est enregistré, vous devriez en recevoir un qui contient un lien pour
          réinitialiser votre mot de passe. Pensez à vérifier votre dossier de courriers
          indésirables.
        </span>
      </p-message>
    </div>
    } @if (errorHasOccured()) {
    <div class="flex">
      <p-message severity="error" class="mb-4">
        <span>
          Une erreur est survenue lors de la demande de réinitialisation. Veuillez réessayer plus
          tard.
        </span>
      </p-message>
    </div>
    }
    <div class="flex flex-col md:items-center gap-4 mb-8 mx-auto">
      <label for="email" class="font-semibold md:w-40 md:me-30">Email</label>
      <input
        pInputText
        id="email"
        class="flex-auto w-full"
        autocomplete="email"
        type="email"
        [field]="resetForm.email"
      />
    </div>
    <div class="flex justify-center gap-2 relative">
      @if(isDebug()) {
      <p-button
        type="button"
        class="bottom-1/2 translate-y-1/2 relative"
        title="Utiliser des identifiants de test"
        severity="info"
        outlined
        (onClick)="onFillMockedValue()"
      >
        <i class="pi pi-user" pButtonIcon></i>
      </p-button>
      }
      <p-button
        label="Réinitialiser le mot de passe"
        type="submit"
        [disabled]="this.resetForm().submitting() || !this.resetForm().dirty()"
      >
        @if(this.resetForm().submitting()) {
        <i class="pi pi-cog pi-spin" pButtonIcon></i>
        }
      </p-button>
    </div>
  </form>
</div>
